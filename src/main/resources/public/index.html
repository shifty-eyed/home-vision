<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="codemirror.min.css">
    <script src="main.js"></script>
    <script src="codemirror.min.js"></script>
    <script src="javascript.min.js"></script>

    <title>Image Tabs</title>
    <style>
        body {
           font-family: Arial, sans-serif;
           margin: 20px;
           justify-content: space-between;
         }

         .sliders-container {
           display: flex;
           gap: 20px;
         }

         .slider-container {
           flex-grow: 1;
         }

        .slider-label {
           display: block;
           margin-bottom: 5px;
        }
        .tab {
            display: none;
        }

        .active-tab {
            display: block;
        }

        #splitContainer {
          display: flex;
          margin-left: 20px;
        }

        #jsonEditorContainer {
          display: none;
          flex-grow: 1;
          margin-left: 20px;
        }

        #jsonEditor {
          width: 300px;
          height: 720px;
        }

        #image-container {
          flex-grow: 1;
        }
    </style>

</head>
<body>
<div class="sliders-container">
    <div class="slider-container">
        <label for="intervalSlider" class="slider-label">Preview:</label>
        <input type="range" id="intervalSlider" min="1" max="20" value="1" step="1" oninput="changePreviewFps();">
        <span id="intervalValue">1</span> fps
    </div>
    <div class="slider-container">
        <label for="qualitySlider" class="slider-label">Quality:</label>
        <input type="range" id="qualitySlider" min="1" max="99" value="40" oninput="{updateQualityLabel(this.value)}">
        <span id="qualityValue">40</span> %
    </div>
    <button id="editConfigButton" onclick="toggleJsonEditor()">Edit Config</button>
</div>


<div id="splitContainer">
    <div id="leftContainer">
        <div id="tabs-container"></div>
        <div id="image-container"></div>
    </div>

    <div id="jsonEditorContainer">
        <textarea id="jsonEditor"></textarea>
        <button onclick="saveJson()">Save</button>
    </div>
</div>

<script>
    // Initialize CodeMirror on the textarea
    const jsonEditor = CodeMirror.fromTextArea(document.getElementById('jsonEditor'), {
      mode: 'application/json',
      lineNumbers: true,
      indentWithTabs: true,
      smartIndent: true,
      lineWrapping: true,
      matchBrackets: true,
      autofocus: true
    });
    jsonEditor.setSize(500, 720);
</script>


</body>
</html>
